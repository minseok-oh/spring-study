# redis 메시지 pub, sub 내부 구조

- Topic: 메시지를 담고 있는 Queue를 말하고 이벤트 리스너를 등록하여 메시지를 받을 수 있다
- Event Listener: 메시지를 받아 처리한다
- Publisher, Receiver: 메시지를 발행하고 받는다

# Jedis, Lettuce, Redisson

Java의 Redis Client는 크게 Jedis, Lettuce, Redisson이 있다 <br/>
각각을 표로 비교하면 다음과 같다

| 특징                 | Jedis                                             | Lettuce                                     | Redisson                                                |
|----------------------|--------------------------------------------------|--------------------------------------------|--------------------------------------------------------|
| 동작 방식           | 동기 (멀티스레드 연결 풀 필요)                   | 비동기 (Netty 기반)                        | 고수준 API 제공 (Redis와 객체 단위 작업 가능)          |
| 스레드 안정성       | 스레드 세이프 (v3.x 이상, 연결 풀 필요)          | 스레드 세이프                              | 스레드 세이프                                          |
| 성능                | 연결 풀 관리 필요, 성능은 Lettuce보다 낮음       | 비동기 처리로 고성능, 확장성 우수          | 성능은 Lettuce와 유사, 데이터 구조 최적화 우수         |
| 비동기 지원         | 미지원                                           | 지원                                       | 지원                                                   |
| 반응형 프로그래밍   | 미지원                                           | 지원 (Reactor 사용)                        | 지원                                                   |
| RedisTemplate 사용  | 명시적으로 설정 필요                             | 기본 지원                                  | 지원하지 않음                                           |
| 데이터 구조 지원    | 기본 Redis 데이터 구조 (String, Hash 등)         | 기본 Redis 데이터 구조 (String, Hash 등)   | 고수준 데이터 구조 (RMap, RList 등)                    |
| 분산 기능           | 미지원                                           | 미지원                                     | 분산 락, 분산 객체, Pub/Sub, 이벤트 버스 지원          |
| 클러스터링          | 지원                                             | 지원                                       | 지원                                                   |
| 사용성              | Spring Boot에서 추가 설정 필요                  | Spring Boot에서 기본으로 사용, 설정 간단   | 추가 의존성과 설정 필요                                 |
| 주요 용도           | 간단한 동기 작업                                | 고성능, 비동기 작업                        | 분산 처리, 고수준 데이터 관리                          |